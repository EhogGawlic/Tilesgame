window.levels = {
    levels: [
        {
            width: 9,
            height: 10,
            data: [
                [0,0,0,0,1,0,0,0,0],
                [0,0,0,0,1,0,0,0,0],
                [0,0,0,0,1,0,0,0,0],
                [0,0,0,0,0,0,0,0,0],
                [0,0,0,0,1,0,0,0,0],
                [0,0,0,0,1,0,0,0,0],
                [0,0,0,0,2,0,0,0,0],
                [0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0]
            ],
            start: [4,0],
            end: [4, 6],
            enemies: []
        },
        {
            width: 9,
            height: 10,
            data: [
                [0,0,0,0,1,0,0,0,0],
                [0,0,0,0,0,1,0,0,0],
                [0,0,1,0,1,0,0,0,0],
                [0,0,1,0,1,1,0,0,0],
                [0,0,0,1,0,0,0,0,0],
                [0,0,0,0,1,1,0,0,0],
                [0,0,0,1,0,1,0,0,0],
                [0,0,1,0,0,0,0,0,0],
                [0,0,1,0,0,0,0,0,0],
                [0,0,1,0,2,0,0,0,0]
            ],
            start: [4,0],
            end: [4, 9],
            enemies: []
        },
        {
            width: 18,
            height: 20,
            data: [
                [0,0,0,1,0,0,0,1,0,0,0,0,0,1,1,0,0,0],
                [1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0],
                [1,0,0,0,1,0,0,1,0,0,0,0,1,0,1,0,0,1],
                [1,0,0,1,1,0,0,0,0,0,0,1,0,0,1,0,0,1],
                [0,0,0,1,0,0,0,1,1,0,0,1,0,0,0,0,0,0],
                [0,1,0,1,0,0,1,0,1,1,1,1,0,1,1,0,1,1],
                [0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0],
                [0,1,1,0,0,1,0,0,0,1,1,0,0,1,0,0,1,1],
                [0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,1],
                [1,0,0,0,0,0,0,0,1,0,1,1,1,0,0,1,0,1],
                [0,1,0,1,1,1,1,0,0,0,1,0,0,0,1,0,1,0],
                [1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0],
                [1,1,0,1,0,0,0,0,0,0,1,1,0,0,1,0,0,1],
                [0,0,1,0,0,0,0,1,0,0,0,0,1,0,1,1,1,0],
                [0,0,0,1,0,1,0,1,0,0,1,0,1,0,1,1,1,0],
                [1,0,0,1,1,0,1,1,1,0,0,3,0,1,1,0,0,0],
                [1,0,0,1,0,1,1,0,1,0,0,0,0,0,0,1,3,0],
                [1,0,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,1,0,1,0,0,0,1,0,0,0,0,1,1,1],
                [0,0,1,0,0,1,1,0,1,0,0,0,1,0,1,1,1,2]
            ],
            start: [9,0],
            end: [17, 19],
            enemies: [16, 16, 3, 11, 15, 3]
        },
        {
            width: 18,
            height: 20,
            data: [
                 //123,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8
                [1,0,0,1,1,0,0,0,0,1,0,0,1,0,1,0,0,0],
                [1,0,1,0,1,0,0,1,0,0,0,1,0,0,0,0,0,1],
                [0,0,0,0,0,1,1,0,0,0,0,0,1,1,1,0,0,0],
                [0,1,0,1,1,1,0,1,0,0,0,0,0,0,1,1,1,0],
                [1,0,1,0,1,0,1,0,1,1,0,0,0,1,0,0,1,0],
                [0,0,0,0,0,1,0,0,0,0,0,1,1,0,0,0,1,0],
                [1,0,0,1,0,0,0,1,0,0,0,1,0,0,1,0,1,0],
                [0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0],
                [0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0],
                [0,0,0,0,0,1,0,0,0,1,1,1,0,0,0,0,0,0],
                [1,1,1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1],
                [1,1,0,1,0,0,1,1,0,1,1,0,0,0,0,0,0,0],
                [1,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0],
                [0,1,0,0,0,0,0,0,0,1,1,0,0,1,0,1,0,1],
                [1,0,0,0,0,0,0,1,0,1,0,0,1,1,1,1,0,1],
                [0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,1,0,1],
                [1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,0],
                [0,1,0,0,1,1,0,1,0,0,0,1,0,0,0,0,0,1],
                [0,1,1,0,1,1,0,1,0,0,1,0,1,1,1,1,0,3],
                [3,0,0,0,0,0,0,1,1,1,0,0,0,1,1,0,3,2]
            ],
            start: [9,0],
            end: [17, 19],
            enemies: [0, 19, 2, 16, 19, 2, 17, 18, 2]
        },
        {
            width: 20,
            height: 18,
            data: [
                 //123,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8
                [0,0,0,0,1,0,0,1,0,0,0,0,0,1,1,1,1,0,1,1],
                [1,1,1,1,1,0,0,1,1,0,1,0,1,0,0,0,0,0,0,0],
                [1,1,0,0,0,1,0,0,1,1,1,1,1,0,0,0,1,1,0,0],
                [1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1],
                [0,0,0,1,0,0,1,0,0,0,1,0,0,1,1,0,0,1,0,0],
                [0,0,1,0,1,0,1,0,1,0,1,0,0,1,1,1,1,0,0,1],
                [1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,1],
                [0,0,0,1,1,0,0,1,1,0,0,0,1,1,1,0,0,0,0,0],
                [1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,1],
                [1,0,0,1,0,0,0,0,0,1,1,0,1,0,1,1,0,1,1,1],
                [1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0],
                [1,0,0,0,0,1,0,0,1,1,0,0,0,0,1,0,0,0,0,0],
                [1,0,0,0,1,0,0,0,1,1,0,0,1,0,0,0,0,0,1,0],
                [1,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0],
                [3,3,0,1,0,0,0,0,1,1,0,0,1,0,1,0,0,0,0,1],
                [3,3,3,1,0,0,0,1,1,1,0,0,1,1,0,1,1,1,0,1],
                [1,1,3,3,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,1],
                [2,0,3,3,1,0,0,0,1,0,0,0,1,1,0,0,0,0,1,0]
            ],
            start: [9,0],
            end: [0, 17],
            enemies: [
                0, 14, 2,
                0, 15, 2,
                1, 14, 2,
                1, 15, 2,
                2, 15, 2,
                2, 16, 2,
                2, 17, 2,
                3, 16, 2,
                3, 17, 2
            ]
        },
        {
            width: 20,
            height: 18,
            data: [
                 //123,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8
                [1,1,1,1,1,0,0,1,0,1,1,0,1,0,0,0,0,0,0,0],
                [0,1,0,1,1,0,0,0,1,0,0,1,0,0,1,0,0,0,0,0],
                [1,1,1,1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,0],
                [0,0,1,0,1,0,1,1,1,1,1,0,0,1,0,1,1,0,0,0],
                [0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,0,0,1,0,1],
                [0,1,0,1,0,0,1,1,0,0,1,0,1,0,1,0,0,1,0,1],
                [0,1,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,1,0],
                [0,0,0,1,0,0,0,0,0,0,1,1,0,1,0,0,0,0,1,0],
                [1,0,0,1,1,0,1,0,0,1,0,0,0,0,0,1,0,0,1,1],
                [0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0],
                [0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,1,0,0,0],
                [0,0,0,1,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0],
                [0,0,1,1,1,0,0,0,0,1,0,1,0,1,0,0,0,1,0,0],
                [0,1,0,1,1,1,0,0,0,0,1,0,0,0,1,0,1,1,0,1],
                [0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,3,3,3],
                [1,1,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,3,3,3],
                [0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,1,1,3,3,2]                
            ],
            start: [0,0],
            end: [19, 17],
            enemies: [
                17, 15, 4,
                17, 16, 4,
                17, 17, 4,
                18, 15, 4,
                18, 16, 4,
                18, 17, 4,
                19, 15, 4,
                19, 16, 4
            ]
        },
        {
            width: 20,
            height: 18,
            data: [
                 //123,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8
                [0,1,0,0,1,0,0,1,0,0,0,1,0,1,0,0,0,0,0,1],
                [0,1,0,1,1,0,0,1,0,0,0,1,0,1,0,1,0,0,1,0],
                [0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0],
                [1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,1,1,1,0,1,1,1,0,0,1,0,1,0,1,0,1,0],
                [0,1,0,1,1,1,0,0,0,1,0,1,1,0,0,0,0,0,0,1],
                [1,1,1,1,1,0,0,0,4,4,4,4,0,0,0,0,0,1,0,0],
                [1,0,0,0,1,1,0,4,3,3,3,4,1,0,1,0,0,0,0,1],
                [0,0,0,1,1,1,0,4,3,2,3,4,0,0,0,1,1,1,0,1],
                [1,0,0,0,1,0,1,4,3,3,3,4,1,1,1,0,0,1,1,0],
                [1,1,0,0,1,1,0,4,4,4,4,4,0,0,0,0,1,0,0,0],
                [1,1,1,0,0,0,0,1,1,0,0,0,0,0,1,0,0,0,0,1],
                [1,0,1,0,0,0,1,0,0,0,0,0,1,0,0,1,1,0,0,1],
                [1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1],
                [1,0,1,0,1,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0],
                [0,1,1,1,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0],
                [0,1,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0],
                [1,1,0,1,0,0,1,0,0,0,0,0,0,1,0,0,0,1,0,1]                 
            ],
            start: [19,0],
            end: [9, 8],
            enemies: [
                8, 7, 4,
                8, 8, 4,
                8, 9, 4,
                9, 7, 4,
                9, 9, 4,
                10, 7, 4,
                10, 8, 4,
                10, 9, 4
            ]
        },
        {
            width: 20,
            height: 18,
            data: [
                 //123,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8
                [1,0,4,0,0,0,0,1,0,0,1,1,1,0,0,0,0,1,0,0],
                [0,1,4,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,0],
                [1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],
                [1,0,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,1,0,0],
                [1,0,4,0,0,0,1,1,0,0,0,0,1,1,1,1,4,1,1,0],
                [0,1,4,0,0,1,4,1,0,1,0,0,0,0,0,0,4,1,0,1],
                [0,4,4,0,1,0,4,0,1,0,1,0,0,1,0,1,4,1,0,1],
                [0,4,3,1,1,0,4,0,0,0,0,1,1,1,1,0,4,3,1,1],
                [1,4,4,1,4,1,4,0,1,1,0,0,0,1,0,0,4,1,0,1],
                [1,1,4,0,4,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0],
                [0,0,1,1,4,1,0,0,0,1,0,1,0,0,0,0,1,1,1,0],
                [0,0,1,0,4,0,1,0,0,1,0,0,0,0,1,0,1,0,1,1],
                [0,1,0,1,1,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0],
                [0,1,0,1,4,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1],
                [0,1,0,0,4,1,1,0,0,1,0,1,0,0,1,0,0,0,0,0],
                [0,0,0,1,4,0,0,1,0,1,0,0,0,0,0,0,1,0,4,0],
                [1,1,0,1,4,1,0,0,0,0,0,1,0,0,1,1,0,4,3,1],
                [0,0,0,0,1,0,1,1,1,1,0,1,0,1,0,0,0,1,1,2]                               
            ],
            start: [0,0],
            end: [19, 17],
            enemies: [
                2, 7, 10,
                18, 16, 20,
                17, 7, 6
            ]
        },
        {
            width: 20,
            height: 18,
            data: [
                 //123,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8
                 [0,0,1,0,1,0,0,1,0,0,1,0,0,0,1,0,0,0,1,0],
                 [0,1,0,0,1,1,1,0,1,1,0,0,0,1,1,0,0,0,1,0],
                 [0,0,0,0,1,1,0,0,1,0,0,0,0,0,0,1,1,0,0,1],
                 [0,0,1,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0],
                 [1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0],
                 [0,0,0,0,1,0,1,1,1,0,0,1,1,0,0,0,0,0,1,0],
                 [1,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,1,0,1,0],
                 [1,0,0,1,0,1,1,0,0,1,0,0,0,0,0,1,0,0,1,0],
                 [0,1,0,0,1,1,1,1,1,0,1,0,0,0,0,1,1,0,1,1],
                 [0,0,0,0,1,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0],
                 [0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,1],
                 [1,0,0,0,0,0,0,1,1,0,0,0,1,0,1,0,0,1,0,0],
                 [1,1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,1],
                 [0,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,0,0],
                 [0,1,1,1,1,0,0,1,1,1,0,0,0,1,0,0,0,0,4,3],
                 [0,0,0,1,0,1,0,1,0,0,1,0,1,1,0,1,1,4,3,3],
                 [0,0,1,0,0,0,1,1,0,0,1,0,0,1,0,0,4,3,3,3],
                 [1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,3,3,3,2]                                               
            ],
            start: [0,0],
            end: [19, 17],
            enemies: [
                18, 17, 10,
                17, 17, 10,
                16, 17, 10,
                19, 16, 10,
                18, 16, 10,
                17, 16, 10,
                19, 15, 10,
                18, 15, 10,
                19, 14, 10
            ]
        },

        {
            width: 21,
            height: 21,
            data: [
                [0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,4,4,3,3,2],
                [0,0,1,0,0,0,0,0,0,0,1,1,1,4,4,3,4,4,3,3,3],
                [1,0,0,0,0,0,0,1,0,1,0,0,0,4,4,3,4,4,3,3,3],
                [0,1,0,0,0,0,0,0,0,1,0,0,0,4,4,3,4,4,4,4,3],
                [0,1,0,0,0,0,0,1,0,0,0,0,0,4,4,3,4,4,4,4,3],
                [1,0,0,0,1,0,0,0,0,1,0,1,0,4,4,3,3,3,4,4,3],
                [0,0,0,0,0,1,0,0,0,0,0,0,0,4,4,4,4,3,4,4,3],
                [0,0,1,0,0,0,0,0,0,0,0,1,0,4,4,4,4,3,3,3,3],
                [1,0,0,0,0,0,0,1,0,1,0,0,1,0,1,4,4,4,4,4,4],
                [1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,4,4,4,4,4],
                [0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0],
                [0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,1,0],
                [0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,1],
                [0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1],
                [0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0],
                [0,0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0],
                [1,0,0,1,1,0,1,0,0,0,0,0,0,0,1,1,0,0,1,0,1],
                [0,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,1,1,1,0,0],
                [0,0,1,0,0,0,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0]
            
            ],
            start: [10,10],
            end: [20,0],
            enemies: [18,0,50,
                19,1,50,
                
                19,2,50,
                20,3,50,
                20,4,50,
                20,5,50,
                20,6,50,
                20,7,50]
        }
    ] 
}
if (localStorage.getItem("customlvls")){
    const lvls = localStorage.getItem("customlvls").split("%")
    lvls.forEach(l=>{
        console.log(l)
        let clvl = {width:0,height:0,data:[],start:[0,0],end:[0,0],enemies:[]}
        clvl.width = parseInt(l.getTextBetweenStrings("width:",",\nheight", true))
        clvl.height = parseInt(l.getTextBetweenStrings("height:",",\ndata", true))
        const data = l.getTextBetweenStrings("data:","start", true)
        const rows = data.split("],\n[")
        const start = l.getTextBetweenStrings("start: [","]", true).split(",")
        const end = l.getTextBetweenStrings("end: [","]", true).split(",")
        const enemies = l.getTextBetweenStrings("enemies: [","]", true).split(",")
        console.log(rows,start,end,enemies)
        enemies.forEach(enemy=>{
            clvl.enemies.push(parseInt(enemy))
        })
        clvl.start = [
            parseInt(start[0]),
            parseInt(start[1])
        ]
        clvl.end = [
            parseInt(end[0]),
            parseInt(end[1])
        ]
        let ro = 0
        rows.forEach(r => {
            clvl.data.push([])
            const items = r.split(",")
            let col = 0
            items.forEach(item => {
                const val = parseInt(item)
                clvl.data[ro][col] = val
                col++
            })
            ro++
        })
        clvl.data[0][0]=1
        levels.levels.push(clvl)
    })
}